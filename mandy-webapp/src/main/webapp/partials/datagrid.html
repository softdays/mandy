<div id="datagrid">
	<div id="imputation-details" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">
						<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
					</button>
					<h4 class="modal-title">{{detailsDialogImputationDate}}</h4>
					<h3 class="modal-title">{{detailsDialogImputationActivity}}</h3>
				</div>
				<div class="modal-body">
				    <div class="row">
						<button type="button" class="btn btn-default"
		                    title="Moins"
		                    ng-click="updateCurrentValue(true)"
		                    ng-disabled="detailsDialogImputationValue == '0.00'">
		                    <span class="glyphicon glyphicon-minus"></span>
		                </button>
		                <div class="progress">
						  <div class="progress-bar" role="progressbar" aria-valuenow="{{progressValue}}" aria-valuemin="0" aria-valuemax="100" ng-style="progressValueStyle">
						    {{detailsDialogImputationValue}}
						  </div>
						</div>
		                <button type="button" class="btn btn-default"
                            title="Plus"
                            ng-click="updateCurrentValue()"
                            ng-disabled="detailsDialogImputationValue == '1.00'">
                            <span class="glyphicon glyphicon-plus"></span>
                        </button>
                    </div>
                    <div class="row">
	                   <textarea class="form-control" rows="3" ng-model="detailsDialogImputationComment">{{detailsDialogImputationComment}}</textarea>
                    </div>
				</div>
				<div class="modal-footer">
				    <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
					<button type="button" class="btn btn-primary btn-sm" ng-click="saveImputationFromDetails()">Sauvegarder</button>
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal-dialog -->
	</div>
	<!-- /.modal -->
	<div class="btn-toolbar">
		<div class="btn-group btn-group-justified">	
		    <div class="btn-group">		
				<button type="button" class="btn btn-default"
					title="Affiche le mois précédent"
					ng-click="displayPreviousMonth(datagrid.year, datagrid.month)">
					<span class=" glyphicon glyphicon-chevron-left"></span>
					<span class="hidden-xs">Précédent</span>
				</button>
			</div>
			<div class="btn-group">
				<button type="button" 
				    class="btn btn-default"
					title="Affiche le mois courant" 
					ng-click="displayCurrentMonth()">
					<span class=" glyphicon glyphicon-chevron-down"></span>
					<strong class="hidden-xs">Aujourd'hui</strong>
				</button>
			</div>
			<div class="btn-group">
				<button type="button" class="btn btn-default"
					title="Affiche le mois suivant"
					ng-click="displayNextMonth(datagrid.year, datagrid.month)">
					<span class="hidden-xs">Suivant</span>
					<span class=" glyphicon glyphicon-chevron-right"></span>
				</button>
		    </div>
		    <div class="btn-group current-month">
				<button id="datagrid-current-month" type="button"
	                class="btn btn-default" disabled="disabled">
	                <strong class="hidden-xs">{{formattedMonth}} {{datagrid.year}}</strong>
	                <strong class="visible-xs-inline">{{shortCurrentMonthIndicator}}</strong>
	            </button>
            </div>
            <div class="btn-group">
                <button type="button" class="btn btn-default"
                    title="Affiche les détails de l'imputation sélectionnée"
                    ng-click="editDetails()"
                    ng-disabled="currentCellSelected == undefined">
                    <span class="glyphicon glyphicon-align-justify"></span>
                    &nbsp;
                    <span class="hidden-xs">Afficher les détails</span>
                </button>
            </div>
		</div>
	</div>
	<div class="table-responsive">
	   <div class="datagrid-header">
			<table class="table table-bordered table-condensed">
				<thead>
					<tr>
						<th class="month">
							<!-- 
		                   <button type="button" 
		                           class="btn btn-default btn-xs glyphicon glyphicon-chevron-left" 
		                           title="Mois précédent"
		                           ng-click="displayPreviousMonth(datagrid.year, datagrid.month)" />
		                   <span><span>{{formattedMonth}}</span><span>{{datagrid.year}}</span></span>
		                   <button type="button" 
		                           class="btn btn-default btn-xs glyphicon glyphicon-chevron-right" 
		                           title="Mois suivant"
		                           ng-click="displayNextMonth(datagrid.year, datagrid.month)" />
		                -->
						</th>
						<th colspan="5" ng-repeat="week in datagrid.weeks">S<span class="hidden-xs">emaine&nbsp;</span>{{week.num}}</th>
					</tr>
					<tr data-mandy-datagrid-header></tr>
				</thead>
			</table>
		</div>
		<table class="table table-striped table-bordered table-hover table-condensed datagrid-body"
            ng-click="tableClickHandler($event)" 
            ng-dblclick="tableDoubleClickHandler($event)">
            <tbody data-mandy-datagrid-body></tbody>
            <tfoot>
                <tr>
                    <td class="datagrid-base-date"
                        colspan="{{(datagrid.weeks.length*5)+1}}">Indice de complétude du mois en cours : {{completude}}</td>
                </tr>
            </tfoot>
        </table>
	</div>

	<!--  
    <div class="datagrid-table">
        <div class="weeks">
            <span class="week" ng-style="{width:(100/datagrid.weeks.length)+'%'}" ng-repeat="week in datagrid.weeks">Semaine {{week.num}}</span>
        </div>
        <div class="days" data-mandy-datagrid-dates></div>
    </div>
    -->

	<!--div>{{datagrid}}</div-->
</div>